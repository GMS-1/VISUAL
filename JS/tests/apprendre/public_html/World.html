<!DOCTYPE html>
<meta charset="utf-8">
<body>
  <script src="datamaps-0.5.0/src/js/components/d3/d3.min.js"></script>
  <script src="datamaps-0.5.0/src/js/components/topojson/topojson.js"></script>
  <!-- I recommend you host this file on your own, since this will change without warning -->
  <script src="datamaps-0.5.0/dist/datamaps.world.min.js"></script>
  <script src="datamaps-0.5.0/dist/datamaps.all.min.js"></script>

 <!-- <div id="container" style="position: relative; width: 1000px; height: 500px;"></div>  -->


 <style>
    .state:hover{
        fill: #bbb;
    }
     
    #state-borders {
        fill: none;
        stroke: #fff;
        stroke-width: 1px;
        stroke-linejoin: round;
        stroke-linecap: round;
        pointer-events: none;
      }
     
 </style>
    
    <script>
    /*var map = new Datamap({
        element: document.getElementById('container'),
        scope: 'usa'
    });*/
    

    var width = 1260,
        height = 1060;

    var projection = d3.geo.mercator()
        .center([0, 0])
        .scale(200)
        .translate([width / 2, height / 2]);

    var path = d3.geo.path()
        .projection(projection);

    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height)
        .attr("fill", "steelblue");

    d3.json("datamaps-0.5.0/src/js/data/world.topo.json", function(error, map) {
        console.log(map);
        for (var i=0; i<map.objects.world.geometries.length; i++)
        {
        svg.append("path")
            .attr("class", "state")
            .datum(topojson.feature(map, map.objects.world.geometries[i]))
            .attr("d", path)
            .on("click", function(d){clicked(d);});
    
        svg.append("path")
            .datum(topojson.feature(map, map.objects.world.geometries[i], function(a, b) { return a !== b; }))
            .attr("id", "state-borders")
            .attr("d", path);
      
        }
    });    
    
    function clicked(d) {
        console.log(d);
    var x, y, k;
    
    if (d && centered !== d) {
      var centroid = path.centroid(d);
      x = centroid[0];
      y = centroid[1];
      k = 4;
      centered = d;
    } else {
      x = width / 2;
      y = height / 2;
      k = 1;
      centered = null;
    }

    svg.selectAll("path")
        .classed("active", centered && function(d) { return d === centered; });

    svg.transition()
        .duration(750)
        .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")scale(" + k + ")translate(" + -x + "," + -y + ")")
        .style("stroke-width", 1.5 / k + "px");
    }

</script>

</body>